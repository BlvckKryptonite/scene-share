{% extends "base.html" %}
{% block content %}
<section class="edit-review-section">
  <div class="edit-review-card">

    <!-- Movie Poster -->
    {% if review.movie.poster %}
      <img src="{{ review.movie.poster.url }}" alt="{{ review.movie.title }}" class="edit-review-poster">
    {% elif review.movie.poster_path %}
      <img src="https://image.tmdb.org/t/p/w200{{ review.movie.poster_path }}" alt="{{ review.movie.title }}" class="edit-review-poster">
    {% endif %}

    <!-- Heading -->
    <h2 class="edit-review-title">
      ✏️ Edit Review for <span class="highlighted-title">{{ review.movie.title }}</span>
    </h2>

    <!-- Edit Form -->
    <form method="POST" class="edit-review-form">
      {% csrf_token %}

      <!-- Star Rating -->
      <div class="rating-group">
        <label class="rating-label">Rating:</label>
        <div class="star-rating">
          {% for star_value in "54321" %}
            <input type="radio" name="rating" id="star{{ review.id }}-{{ star_value }}" value="{{ star_value }}" {% if review.rating|stringformat:"s" == star_value|stringformat:"s" %}checked{% endif %}>
            <label for="star{{ review.id }}-{{ star_value }}">&#9733;</label>
          {% endfor %}
        </div>
      </div>

      <!-- Multi-line Comment Input -->
      <textarea name="comment" placeholder="Edit your review..." class="review-input" required rows="3">{{ review.comment }}</textarea>

      <!-- Centered Submit Button -->
      <button type="submit" class="btn btn-primary save-btn">Update Review</button>
    </form>

    <a href="{% url 'home' %}" class="back-link">← Back to Movies</a>
  </div>
</section>
{% endblock %}
